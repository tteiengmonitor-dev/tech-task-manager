<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technician Work Planner</title>

<style>
:root{
    --bg1:#0f2027;
    --bg2:#203a43;
    --card:#1e2e34;
    --accent:#d4a373;
    --text:#f1f1f1;
    --border:#35565f;
}

body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    padding:20px;
}

.container{
    width:100%;
    max-width:850px;
    background:var(--card);
    padding:28px;
    border-radius:18px;
    box-shadow:0 15px 40px rgba(0,0,0,0.4);
    color:var(--text);
}

h1{
    margin-top:0;
    margin-bottom:18px;
    color:var(--accent);
}

label{
    margin-top:12px;
    display:block;
    font-weight:600;
    font-size:14px;
}

input, textarea{
    width:100%;
    padding:9px 10px;
    margin-top:5px;
    border-radius:8px;
    border:1px solid var(--border);
    background:#142328;
    color:var(--text);
    font-size:14px;
    box-sizing:border-box;
}

textarea{
    resize:vertical;
    min-height:65px;
}

.time-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:14px;
    margin-top:8px;
}

@media(max-width:600px){
    .time-row{
        grid-template-columns:1fr;
    }
}

input[type="time"]{
    appearance:none;
    -webkit-appearance:none;
}

input[type="time"]::-webkit-calendar-picker-indicator{
    filter:invert(1);
    opacity:0.6;
}

.checkbox-box{
    margin-top:8px;
    border:1px solid var(--border);
    padding:10px 14px;
    border-radius:10px;
    background:#142328;
}

.checkbox-item{
    display:flex;
    align-items:center;
    gap:8px;
    padding:4px 0;
    cursor:pointer;
}

.checkbox-item input{
    width:16px;
    height:16px;
    accent-color:var(--accent);
}

.checkbox-item:hover{
    color:var(--accent);
}

button{
    margin-top:6px;
    padding:6px 12px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.btn-small{
    background:#2b444c;
    color:var(--text);
    margin-right:6px;
}

.submit{
    width:100%;
    padding:12px;
    margin-top:22px;
    background:var(--accent);
    color:#000;
    font-weight:bold;
    font-size:15px;
}

.summary{
    margin-top:18px;
    padding:14px;
    background:#142328;
    border-radius:10px;
    font-size:13px;
    line-height:1.6;
}
</style>
</head>

<body>

<div class="container">
<h1>üîß Technician Work Planner</h1>

<label>Job Reference Number</label>
<input type="text" id="jobRef">

<label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</label>
<textarea id="jobDetail"></textarea>

<label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
<input type="date" id="planDate">
<button class="btn-small" onclick="setToday()">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
<button class="btn-small" onclick="setTomorrow()">‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ</button>

<label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
<div class="checkbox-box">
<label class="checkbox-item"><input type="checkbox" value="Emp_01"><span>Emp_01</span></label>
<label class="checkbox-item"><input type="checkbox" value="Emp_02"><span>Emp_02</span></label>
<label class="checkbox-item"><input type="checkbox" value="Emp_03_LongNameTest"><span>Emp_03_LongNameTest</span></label>
<label class="checkbox-item"><input type="checkbox" value="Emp_04"><span>Emp_04</span></label>
</div>

<div class="time-row">
<div>
<label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</label>
<input type="time" id="startTime">
</div>

<div>
<label>‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à</label>
<input type="time" id="endTime">
</div>
</div>

<label>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</label>
<input type="number" id="duration" step="0.25">

<div class="summary" id="summary">
‡∏£‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...
</div>

<button class="submit" onclick="submitPlan()">‡∏™‡πà‡∏á‡πÅ‡∏ú‡∏ô</button>

</div>

<script>
let lastChanged=null;

window.onload=function(){
    setTomorrow();
}

function setToday(){
    const today=new Date().toISOString().split("T")[0];
    document.getElementById("planDate").value=today;
}

function setTomorrow(){
    const d=new Date();
    d.setDate(d.getDate()+1);
    document.getElementById("planDate").value=d.toISOString().split("T")[0];
}

function timeToMin(t){
    const [h,m]=t.split(":").map(Number);
    return h*60+m;
}

function minToTime(min){
    const h=Math.floor(min/60);
    const m=min%60;
    return String(h).padStart(2,'0')+":"+String(m).padStart(2,'0');
}

function recalc(){
    const start=document.getElementById("startTime").value;
    const duration=parseFloat(document.getElementById("duration").value);
    const end=document.getElementById("endTime").value;

    if(start){
        if(lastChanged==="duration" && duration){
            document.getElementById("endTime").value=minToTime(timeToMin(start)+duration*60);
        }
        else if(lastChanged==="end" && end){
            const diff=timeToMin(end)-timeToMin(start);
            document.getElementById("duration").value=(diff/60).toFixed(2);
        }
    }
    updateSummary();
}

function updateSummary(){
    const job=document.getElementById("jobRef").value;
    const detail=document.getElementById("jobDetail").value;
    const date=document.getElementById("planDate").value;
    const start=document.getElementById("startTime").value;
    const end=document.getElementById("endTime").value;
    const duration=document.getElementById("duration").value;

    const checked=[...document.querySelectorAll(".checkbox-box input:checked")]
        .map(el=>el.value);

    document.getElementById("summary").innerHTML=
    `<b>Job:</b> ${job||'-'}<br>
     <b>Detail:</b> ${detail||'-'}<br>
     <b>Date:</b> ${date||'-'}<br>
     <b>Start:</b> ${start||'-'}<br>
     <b>End:</b> ${end||'-'}<br>
     <b>Duration:</b> ${duration||'-'} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á<br>
     <b>Technician:</b> ${checked.length?checked.join(", "):'-'}`;
}

document.getElementById("duration").addEventListener("input",()=>{
    lastChanged="duration";
    recalc();
});
document.getElementById("endTime").addEventListener("input",()=>{
    lastChanged="end";
    recalc();
});
document.getElementById("startTime").addEventListener("input",recalc);
document.getElementById("jobRef").addEventListener("input",updateSummary);
document.getElementById("jobDetail").addEventListener("input",updateSummary);
document.getElementById("planDate").addEventListener("input",updateSummary);
document.querySelectorAll(".checkbox-box input").forEach(cb=>{
    cb.addEventListener("change",updateSummary);
});

function submitPlan(){
    alert("‡∏™‡πà‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (Demo Mode)");
}
</script>

</body>
</html>
