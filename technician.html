<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technician Panel</title>

<style>
:root{
    --bg1:#0f2027;
    --bg2:#203a43;
    --card:#1e2e34;
    --accent:#d4a373;
    --danger:#c44536;
    --text:#f1f1f1;
    --border:#35565f;
}

body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    padding:20px;
    color:var(--text);
}

.container{
    width:100%;
    max-width:850px;
    background:var(--card);
    padding:25px;
    border-radius:18px;
    box-shadow:0 15px 40px rgba(0,0,0,0.4);
}

h1{
    margin-top:0;
    color:var(--accent);
}

input{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid var(--border);
    background:#142328;
    color:var(--text);
}

.header{
    margin-top:15px;
    padding:12px;
    background:#142328;
    border-radius:10px;
    border:1px solid var(--border);
    font-size:14px;
}

.task-list{
    margin-top:15px;
    border:1px solid var(--border);
    border-radius:10px;
    background:#142328;
    padding:10px 15px;
}

.task-item{
    display:flex;
    align-items:center;
    gap:10px;
    padding:6px 0;
}

.task-item input{
    width:16px;
    height:16px;
    accent-color:var(--accent);
}

button{
    width:100%;
    margin-top:15px;
    padding:12px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
}

.start{
    background:var(--accent);
    color:#000;
}

.end{
    background:#35565f;
    color:#fff;
}

.urgent{
    background:var(--danger);
    color:#fff;
}

.timer-box{
    margin-top:15px;
    padding:12px;
    border-radius:10px;
    border:1px solid var(--border);
    background:#142328;
    font-size:14px;
}
</style>
</head>

<body>

<div class="container">

<h1>ðŸ›  Technician Work Panel</h1>

<label>Employee ID</label>
<input type="text" id="empId" placeholder="à¸à¸£à¸­à¸à¸£à¸«à¸±à¸ªà¸žà¸™à¸±à¸à¸‡à¸²à¸™">

<div class="header">
<b>Status:</b> <span id="status">IDLE</span><br>
<b>Current Task:</b> <span id="currentTask">-</span><br>
<b>Timer:</b> <span id="timer">00:00:00</span>
</div>

<div class="task-list" id="taskList">
<b>Assigned Tasks</b>
<div class="task-item">
<input type="radio" name="task" value="TSK-001">
<label>TSK-001 | Change Bearing | Plan 02:00</label>
</div>
<div class="task-item">
<input type="radio" name="task" value="TSK-002">
<label>TSK-002 | Clean Hopper | Plan 01:00</label>
</div>
<div class="task-item">
<input type="radio" name="task" value="TSK-003">
<label>TSK-003 | Sensor Replace | Plan 00:45</label>
</div>
</div>

<button class="start" id="toggleBtn" onclick="toggleTask()">â–¶ START TASK</button>

<button class="urgent" onclick="startUrgent()">ðŸš¨ START URGENT TASK</button>

<div class="timer-box">
<b>Performance:</b> <span id="performance">-</span>
</div>

</div>

<script>

let running=false;
let timerInterval;
let seconds=0;
let activeTask=null;

function formatTime(sec){
    const h=Math.floor(sec/3600);
    const m=Math.floor((sec%3600)/60);
    const s=sec%60;
    return String(h).padStart(2,'0')+":"+
           String(m).padStart(2,'0')+":"+
           String(s).padStart(2,'0');
}

function toggleTask(){
    if(!running){
        const selected=document.querySelector('input[name="task"]:checked');
        if(!selected){
            alert("à¹€à¸¥à¸·à¸­à¸ Task à¸à¹ˆà¸­à¸™");
            return;
        }
        activeTask=selected.value;
        running=true;
        document.getElementById("status").innerText="RUNNING";
        document.getElementById("currentTask").innerText=activeTask;
        document.getElementById("toggleBtn").innerText="â–  END TASK";
        document.getElementById("toggleBtn").classList.remove("start");
        document.getElementById("toggleBtn").classList.add("end");

        timerInterval=setInterval(()=>{
            seconds++;
            document.getElementById("timer").innerText=formatTime(seconds);
        },1000);

    }else{
        clearInterval(timerInterval);
        running=false;
        document.getElementById("status").innerText="IDLE";
        document.getElementById("currentTask").innerText="-";
        document.getElementById("toggleBtn").innerText="â–¶ START TASK";
        document.getElementById("toggleBtn").classList.add("start");
        document.getElementById("toggleBtn").classList.remove("end");
        seconds=0;
        document.getElementById("timer").innerText="00:00:00";
    }
}

function startUrgent(){
    if(running){
        toggleTask();
    }
    activeTask="URG-"+Date.now();
    running=true;
    document.getElementById("status").innerText="RUNNING (URGENT)";
    document.getElementById("currentTask").innerText=activeTask;
    document.getElementById("toggleBtn").innerText="â–  END TASK";
    document.getElementById("toggleBtn").classList.remove("start");
    document.getElementById("toggleBtn").classList.add("end");

    timerInterval=setInterval(()=>{
        seconds++;
        document.getElementById("timer").innerText=formatTime(seconds);
    },1000);
}

</script>

</body>
</html>